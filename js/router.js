import{initMenu,updateActiveLink}from"./main-ui.js";const routes={"/":{file:"pages/home.html",title:"Início | ONG Impacto Social"},"/projetos":{file:"pages/projetos.html",title:"Projetos | ONG Impacto Social"},"/cadastro":{file:"pages/cadastro.html",title:"Participe | ONG Impacto Social"},"/index.html":{file:"pages/home.html",title:"Início | ONG Impacto Social"}},appRoot=document.getElementById("app-root");async function loadContent(t){"/index.html"===t&&(t="/");const o=routes[t]||{file:"pages/404.html",title:"Página Não Encontrada"};try{const a=await fetch(o.file);if(!a.ok)throw new Error("Página não encontrada");const e=await a.text();if(appRoot.innerHTML=e,document.title=o.title,"/cadastro"===t){const{initMascaras:t}=await import("./mascaras.js"),{initFormCadastro:o}=await import("./main-form.js");t(),o()}updateActiveLink(t)}catch(t){console.error("Erro ao carregar a página:",t),appRoot.innerHTML="<h1>Erro ao carregar conteúdo. Tente novamente.</h1>"}}function navigateTo(t){history.pushState(null,null,t),loadContent(t)}document.addEventListener("click",(t=>{const o=t.target.closest("a[data-link]");o&&(t.preventDefault(),navigateTo(o.getAttribute("href")))})),window.addEventListener("popstate",(()=>{loadContent(location.pathname)})),document.addEventListener("DOMContentLoaded",(()=>{initMenu(),loadContent(location.pathname)}));