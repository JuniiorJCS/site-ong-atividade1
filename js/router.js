import{initMenu,updateActiveLink}from"./main-ui.js";const repoName="/site-ong-atividade1",routes={[repoName+"/"]:{file:"pages/home.html",title:"Início | ONG Impacto Social"},[repoName+"/projetos"]:{file:"pages/projetos.html",title:"Projetos | ONG Impacto Social"},[repoName+"/cadastro"]:{file:"pages/cadastro.html",title:"Participe | ONG Impacto Social"},[repoName+"/index.html"]:{file:"pages/home.html",title:"Início | ONG Impacto Social"},[repoName]:{file:"pages/home.html",title:"Início | ONG Impacto Social"}},appRoot=document.getElementById("app-root");async function loadContent(t){t===repoName&&(t=repoName+"/"),t===repoName+"/index.html"&&(t=repoName+"/");const e=routes[t]||{file:"pages/404.html",title:"Página Não Encontrada"};try{const o=await fetch(e.file);if(!o.ok)throw new Error("Página não encontrada");const a=await o.text();if(appRoot.innerHTML=a,document.title=e.title,t===repoName+"/cadastro"){const{initMascaras:t}=await import("./mascaras.js"),{initFormCadastro:e}=await import("./main-form.js");t(),e()}updateActiveLink(t)}catch(t){console.error("Erro ao carregar a página:",t),appRoot.innerHTML="<h1>Erro ao carregar conteúdo. Tente novamente.</h1>"}}function navigateTo(t){history.pushState(null,null,t),loadContent(t)}document.addEventListener("click",(t=>{const e=t.target.closest("a[data-link]");e&&(t.preventDefault(),navigateTo(e.getAttribute("href")))})),window.addEventListener("popstate",(()=>{loadContent(location.pathname)})),document.addEventListener("DOMContentLoaded",(()=>{initMenu(),loadContent(location.pathname)}));